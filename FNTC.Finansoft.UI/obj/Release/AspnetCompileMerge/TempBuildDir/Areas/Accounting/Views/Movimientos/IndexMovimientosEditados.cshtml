@model IEnumerable<FNTC.Finansoft.Accounting.DTO.Contabilidad.Comprobante>
@{
    Layout = "~/Views/shared/_Layout.cshtml";
}

<link href="~/Content/stylegeneral.css" rel="stylesheet" />

<a href="../../Dashboard/Default#&movimientos">
    <i id="arrowLeft" class="fa fa-arrow-circle-o-left fa-3x navArrows" aria-hidden="true" alt="left arrow" style="margin-left: -45px;
opacity: 0.5; display: block; color: rgb(17, 82, 143); z-index: 5; "></i>
</a>

<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css" />
<script src="~/Scripts/datatable.js"></script>
<link href="~/Content/font-awesome.min.css" rel="stylesheet" />


<script type="text/javascript" class="init">
    $(document).ready(function () {
        
        $('#example').dataTable({
            "ajaxSource": '../../../accounting/comprobantes/getcomprobantesEditados',
            "language": {
                "url": "//cdn.datatables.net/plug-ins/1.10.12/i18n/Spanish.json"
            }
        });
       
    });
</script>



<div class="col-md-12" style="background: rgb(248, 248, 248)">
    <div class="col-md-12">
        <div class="form-group">
            <div class="col-md-10"><h3 style="border-bottom: 5px solid #2B7785 !important; width: 123%; color: #2B7785 !important; padding: 9px 20px 15px 0px !important;margin-bottom: 31px !important;">Comprobantes Editados</h3></div>
            @*<div class="col-md-2" style=" margin-top: 3%;">
                <a href="/Accounting/Movimientos/nuevo" class="AddUser btn btn-success btn-xs btnnuevo" data-toggle="modal" data-target="#centro">Nuevo</a>
            </div>*@

        </div>
    </div>
    @*
    <div class="col-md-12">
        <div class="col-md-12">
        <label class="col-md-6">Tipo</label>
           @Html.DropDownList("Tipos", new SelectList(ViewBag.Tipos,"Value","Text"), "Filtrar por tipo...", new { @class = "form-control"})
        </div>
        <div class="clearfix"></div><br />

        <div class="form-group">

            <button class="js-refrescar" style="margin-left: 2.5%;"><i class="fa fa-refresh" aria-hidden="true"></i> Actualizar</button>
        </div>
    </div>*@
    <div class="form-group">
        <div class="col-md-11">
        </div>
        <div class="col-md-1">
            @Html.ActionLink("Volver", "Index", null, new { @class = "btn btn-primary btn-large" })
        </div>
    </div>
    <div class="modal fade" data-backdrop="static" id="centro" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">

                <div class="modal-body">
                </div>
            </div>
        </div>
    </div>

    <div class="table-responsive col-md-12">
        <div class="col-md-12">
            <table id="example" class="table table-striped table-bordered dataTable no-footer" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th class="columnatablaazul">
                            <label>Tipo</label>
                        </th>
                        <th class="columnatablaazul2">
                            <label>Número</label>
                        </th>
                        <th class="columnatablaazul2">
                            <label>Veces Editado</label>
                        </th>
                        <th class="columnatablaazul2">
                            <label>Detalle</label>
                        </th>
                        <th class="columnatablaazul">
                            <label>Valor total</label>
                        </th>
                        <th class="columnatablaazul">
                            <label>Fecha Editado</label>
                        </th>
                        <th class="columnatablaazul2" width="10%">Opciones</th>
                    </tr>

                </thead>
                <tbody id="comprobantes"></tbody>
            </table>
        </div>
    </div>
</div>


<style>
    body {
        background-color: #DDD;
    }
</style>



<script>

    //function edit(row) {
    //    window.location.replace("/terceros/terceros/edit?nit=" + row.id);
    //}

    function VerComprobante(row) {
        
        var tipo = row.closest('tr').children[0].innerHTML;
        var numero = row.closest('tr').children[1].innerHTML;
        var vecesEditado = row.closest('tr').children[2].innerHTML;
        var win = window.open("/Comprobantes/GetComprobanteEditado?tipo=" + tipo + "&numero=" + numero + "&vecesEditado=" + vecesEditado + "", "Comprobante", "directories=0,titlebar=0,toolbar=0,location=0,status=0,menubar=0,scrollbars=no,resizable=no,height=600,width=800");
        win.focus();

    }

</script>
