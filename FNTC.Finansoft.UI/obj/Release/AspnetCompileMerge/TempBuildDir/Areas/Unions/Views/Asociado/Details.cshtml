@{
    ViewBag.Title = "Detalles asociado";
    Ingenio.BO.ViewModels.AsociadosViewModel aso = ViewBag.asociado;
}

<ul class="nav nav-tabs">
    <li class="active"><a data-toggle="tab" href="#general">Datos Asociados</a></li>
    <li><a data-toggle="tab" href="#aCargo">Personas a cargo</a></li>
    <li><a data-toggle="tab" href="#beneficiarios">Beneficiarios</a></li>
    <li><a data-toggle="tab" href="#egresos">Egresos</a></li>
    <li><a data-toggle="tab" href="#ingresos">Ingresos</a></li>
    <li><a data-toggle="tab" href="#estudios">Estudios</a></li>
    <li><a data-toggle="tab" href="#referencias">Referencias</a></li>
    <li><a data-toggle="tab" href="#codeudores">Codeudores</a></li>
</ul>

<div class="tab-content">
    <div id="general" class="tab-pane fade in active">
        <div class="form-horizontal">
            <div class="row">
                <div class="col-lg-12">

                
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Nombre :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Primer_Nom @aso.Segundo_Nom @aso.Primer_Ape @aso.Segundo_Ape" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Tipo Identificacion : </label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.TipoIdentificacion" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Identificación : </label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Nit_CC" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Pais Expedición : </label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.PaisExpedicion" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Depto Expedición : </label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.DeptoExpedicion" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Ciudad Expedición :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.LExpedicion" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Genero :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.GeneroDes" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Fecha de Nacimiento :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Fecha_Nacimiento.ToString("yyyy-MM-dd")" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Fecha de Inicio :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Fecha_InicioAso.ToString("yyyy-MM-dd")" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Pais Residencia :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.PaisResidencia" />
                            </div>
                        </div>
                    </div>


                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Depto Residencia :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.DeptoResidencia" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Ciudad Residencia : </label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Residencia" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Direccion :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Direccion" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Telefono :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Telefono" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Ext:</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Extension" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Celular :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Celular" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Email :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Correo" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Tipo Estudios :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.TipoEstudio" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Profesion :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Profesion" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Empresa : </label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.EmpresaPaga" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Acta de ingreso :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Acta" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Trabaja en :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.TrabajaEn" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Dependencia :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Dependencia" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Tipo de contrato :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Contrato" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Fecha Inicia Empresa:</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.FechaIniEmp.ToString("yyyy-MM-dd")" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Fecha Fin :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.FechaFinEmp.ToString("yyyy-MM-dd")" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Cargo :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Cargo" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Salario : </label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Salario" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Nº Cuenta : </label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Cuentas_Con" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Tipo Cuenta :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Tipo" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Banco :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.Banco" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">CIIU :</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.CIIU" />
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="Primer_Nom" class="col-md-4 control-label">Tipo Vivienda:</label>
                            <div class="col-md-7">
                                <input type="text" readonly class="form-control" value="@aso.TipoVivienda" />
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>
        <div>
            @Html.ActionLink("Excel", "DetallesExcel", new { id = @ViewBag.idaso }, new { @class = "btn btn-success" })
        </div>
    </div>
    <div id="aCargo" class="tab-pane fade">
        <div class="table">
            <table id="personas" class="compact table table-bordered table-striped" onclick="">
                <thead>
                    <tr>
                        <th>Tipo Id</th>
                        <th>Identificación</th>
                        <th>Nombre</th>
                        <th>Genero</th>
                        <th>Parentesco</th>
                        <th>Estudiante</th>
                        <th></th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in ViewBag.personas)
                    {
                        string clase3 = "";
                        string deshabilitar3 = "";
                        string reactivar = "";
                        string mostraredi = "";
                        clase3 = item.activo == false ? "danger" : "";
                        deshabilitar3 = item.activo == false ? "disabled" : "";
                        reactivar = !item.activo ? "inline" : "none";
                        mostraredi = item.activo ? "inline" : "none";


                        <tr class="@clase3">
                            <td>@item.tipoId</td>
                            <td>@item.identificacion</td>
                            <td>@item.nombre</td>
                            <td>@item.genero</td>
                            <td>@item.parentesco</td>
                            <td>@item.estudiante</td>
                            <td>

                                <button name="ReactivarPERSCARGO" class="btn btn-xs btn-default" value="@item.id" style="display:@reactivar">Reactivar</button>
                                @Html.ActionLink("Editar", "Edit", "PersCargo", new { id = item.id }, new { @class = "btn btn-xs btn-default", @style = "display:" + mostraredi })

                                |
                                <button name="EliminarPA" class="btn btn-xs btn-danger" value="@item.id" @deshabilitar3>Eliminar</button>


                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <div>
            @Html.ActionLink("Nuevo", "Create", "PersCargo", new { id = aso.Asociado.Id, cedula = aso.Nit_CC }, new { @class = "btn btn-primary" })
        </div>
    </div>

    <div id="beneficiarios" class="tab-pane fade">

        <div class="table">
            <table id="personas" class="compact table table-bordered table-striped" onclick="">
                <thead>
                    <tr>
                        <th>Tipo Id</th>
                        <th>Identificación</th>
                        <th>Nombre</th>
                        <th>Genero</th>
                        <th>Parentesco</th>
                        <th>Porcentaje</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @{int i = 0;}
                    @foreach (var item2 in ViewBag.beneficiario)
                    {
                        string clase3 = "";
                        string deshabilitar3 = "";
                        string reactivar = "";
                        string mostraredi = "";

                        clase3 = item2.activo == false ? "danger" : "";
                        deshabilitar3 = item2.activo == false ? "disabled" : "";
                        reactivar = !item2.activo ? "inline" : "none";
                        mostraredi = item2.activo ? "inline" : "none";

                        <tr class="@clase3" data-numero="@i">
                            <td>@item2.tipoId</td>
                            <td>@item2.identificacion</td>
                            <td>@item2.nombre</td>
                            <td>@item2.genero</td>
                            <td>@item2.parentesco</td>
                            <td id="porcentaje-@i">@item2.porcentaje</td>
                            <td>

                                <button name="ReactivarBENEFI" class="btn btn-xs btn-default" value="@item2.id" style="display:@reactivar">Reactivar</button>
                                @Html.ActionLink("Editar", "Edit", "Beneficiario", new { id = item2.id }, new { @class = "btn btn-xs btn-default", @style = "display:" + mostraredi })
                                |
                                <button name="EliminarB" class="btn btn-xs btn-danger" value="@item2.id" @deshabilitar3>Eliminar</button>



                            </td>

                        </tr>
                        i++;
                    }
                </tbody>
                <td><b>Porcentaje Total :</b><span id="p">@ViewBag.porcentajetotal</span> %</td>
            </table>
        </div>

        @Html.ActionLink("Nuevo", "Create", "Beneficiario", new { id = aso.Asociado.Id, cedula = aso.Nit_CC }, new { @class = "btn btn-primary" })

    </div>
    <div id="egresos" class="tab-pane fade">
        <div class="table">
            <table id="personas" class="compact table table-bordered table-striped" onclick="">
                <thead>
                    <tr>
                        <th>Descripción</th>
                        <th>Valor</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in ViewBag.egresos)
                    {
                        <tr>
                            <td>@item.Descripcion</td>
                            <td>$ @item.Valor</td>
                        </tr>
                    }
                </tbody>

            </table>
        </div>
        @Html.ActionLink("Editar", "Edit", "EgresosAso", new { id = aso.Asociado.Id, cedula = aso.Nit_CC }, new { @class = "btn btn-primary" })

    </div>
    <div id="ingresos" class="tab-pane fade">
        <div class="table">
            <table id="personas" class="compact table table-bordered table-striped" onclick="">
                <thead>
                    <tr>
                        <th>Descripción</th>
                        <th>Valor</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in ViewBag.ingresos)
                    {
                        <tr>
                            <td>@item.Descripcion</td>
                            <td>$ @item.Valor</td>
                        </tr>
                    }
                </tbody>

            </table>
        </div>
        @Html.ActionLink("Editar", "Edit", "IngresosAso", new { id = aso.Asociado.Id, cedula = aso.Nit_CC }, new { @class = "btn btn-primary" })

    </div>
    <div id="estudios" class="tab-pane fade">
        <div class="table">
            <table id="personas" class="compact table table-bordered table-striped" onclick="">
                <thead>
                    <tr>
                        <th>Tipo de Estudio</th>
                        <th>Institución</th>
                        <th>Observaciones</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in ViewBag.estudios)
                    {
                        <tr>
                            <td>@item.Estudio</td>
                            <td>@item.Institucion</td>
                            <td>@item.Observaciones</td>
                        </tr>
                    }
                </tbody>

            </table>
            @Html.ActionLink("Editar", "Edit", "Estudio", new { id = aso.Asociado.Id, cedula = aso.Nit_CC }, new { @class = "btn btn-primary" })
        </div>
    </div>
    <div id="referencias" class="tab-pane fade">
        <div class="table">
            <table id="personas" class="compact table table-bordered table-striped" onclick="">
                <thead>
                    <tr>
                        <th>Tipo Id</th>
                        <th>Identificación</th>
                        <th>Nombre</th>
                        <th>Genero</th>
                        <th>Trabaja</th>
                        <th>Nota</th>
                        <th>Cuenta</th>
                        <th>Verificacion de Referencia</th>
                        <th></th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in ViewBag.referencias)
                    {
                        string clase3 = "";
                        string deshabilitar3 = "";
                        string reactivar = "";
                        string mostraredi = "";
                        clase3 = item.activo == false ? "danger" : "";
                        deshabilitar3 = item.activo == false ? "disabled" : "";
                        reactivar = !item.activo ? "inline" : "none";
                        mostraredi = item.activo ? "inline" : "none";

                        <tr class="@clase3">
                            <td>@item.tipoId</td>
                            <td>@item.identificacion</td>
                            <td>@item.nombre</td>
                            <td>@item.genero</td>
                            <td>@item.trabaja</td>
                            <td>@item.nota</td>
                            <td>@item.cuenta</td>
                            <td>@item.verificacion_referencia</td>
                            <td>

                                <button name="ReactivarREFE" class="btn btn-xs btn-default" value="@item.id" style="display:@reactivar">Reactivar</button>
                                @Html.ActionLink("Editar", "Edit", "ReferenciasAso", new { id = item.id }, new { @class = "btn btn-xs btn-default", @style = "display:" + mostraredi })

                                |
                                <button name="EliminarR" class="btn btn-xs btn-danger" value="@item.id" @deshabilitar3>Eliminar</button>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
            @Html.ActionLink("Nuevo", "Create", "ReferenciasAso", new { id = aso.Asociado.Id, cedula = aso.Nit_CC }, new { @class = "btn btn-primary" })
        </div>
    </div>
    <div id="codeudores" class="tab-pane fade">
        <div class="table">
            <table id="personas" class="compact table table-bordered table-striped" onclick="">
                <thead>
                    <tr>
                        <th>Tipo Id</th>
                        <th>Identificación</th>
                        <th>Nombre</th>
                        <th>Genero</th>
                        <th>Estrato</th>
                        <th>CIIU</th>
                        <th></th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in ViewBag.codeudores)
                    {
                        string clase3 = "";
                        string deshabilitar3 = "";
                        string reactivar = "";
                        string mostraredi = "";
                        clase3 = item.activo == false ? "danger" : "";
                        deshabilitar3 = item.activo == false ? "disabled" : "";
                        reactivar = !item.activo ? "inline" : "none";
                        mostraredi = item.activo ? "inline" : "none";

                        <tr class="@clase3">
                            <td>@item.tipoId</td>
                            <td>@item.identificacion</td>
                            <td>@item.nombre</td>
                            <td>@item.genero</td>
                            <td>@item.estrato</td>
                            <td>@item.ciiu</td>
                            <td>

                                <button name="ReactivarCODE" class="btn btn-xs btn-default" value="@item.id2" style="display:@reactivar">Reactivar</button>
                                @Html.ActionLink("Editar", "Edit", "CodeudorAso", new { id = item.id, idasociado = ViewBag.idAsociado }, new { @class = "btn btn-xs btn-default", @style = "display:" + mostraredi })

                                |
                                <button name="EliminarCODE" class="btn btn-xs btn-danger" value="@item.id2" @deshabilitar3>Eliminar</button>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
            @Html.ActionLink("Nuevo", "Create", "CodeudorAso", new { id = aso.Asociado.Id, cedula = aso.Nit_CC }, new { @class = "btn btn-primary" })
        </div>
    </div>
</div>











@***********************************JAVASCRIPT*@
<script>

    $(function () {
        $('table').DataTable({
            filter: true,
            paging: true,
            bAutoWidth: true,
            language: {
                "lengthMenu": "Mostrar _MENU_ registros por pagina",
                "zeroRecords": "Nothing found - sorry",
                "info": "Pagina _PAGE_ de _PAGES_",
                "infoEmpty": "No records available",
                "search": "Buscar",
                "infoFiltered": "(filtered from _MAX_ total records)",
                "paginate": {
                    "next": "Siguiente",
                    "previous": "Anterior"
                }
            }

        });
    })


    function verocultar(cual) {
        var c = cual.nextSibling;

        if (c.style.display == 'none') {
            c.style.display = 'block';
        } else {
            c.style.display = 'none';
        }
        return false;
    }
    //********************ELIMINAR PERSONAS A CARGO**********************
    $('button[name=EliminarPA]').on("click", function () {
        var id = $(this).val();
        var element = $(this).parent().parent();
        var boton = $(this);
        swal({
            title: "Estas seguro?",
            text: "",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Si, Eliminar persona a cargo!",
            closeOnConfirm: false
        }, function () {
            $.post("@Url.Action("Delete", "PersCargo")", { id: id }, function (res) {
                if (res) {
                    element.attr("class", "danger");
                    boton.attr("disabled", true);
                    boton.prev().hide();
                    boton.prev().prev().show()
                    swal("Eliminado", "", "success");
                } else {
                    swal("No se puede eliminar", "La persona a cargo no se puede eliminar", "error");
                }
            })
        });
    })

    //***********************ELIMINAR BENEFICIARIOS****************
    $('button[name=EliminarB]').on("click", function () {
        var id = $(this).val();
        var element = $(this).parent().parent();
        var boton = $(this);
        swal({
            title: "Estas seguro?",
            text: "",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Si, Eliminar beneficiario!",
            closeOnConfirm: false
        }, function () {
            $.post("@Url.Action("Delete", "Beneficiario")", { id: id }, function (res) {
                if (res) {
                    var i = element.data("numero");
                    var por = parseInt($("#p").html()) - parseInt($("#porcentaje-" + i).html());
                    console.log(i);
                    $("#p").html(por);
                    element.attr("class", "danger");
                    boton.attr("disabled", true);
                    boton.prev().hide();
                    boton.prev().prev().show();
                    swal("Eliminado", "", "success");
                } else {
                    swal("No se puede eliminar", "El beneficiario no se puede eliminar", "error");
                }
            })
        });
    })
    //***********************ELIMINAR REFERENCIA****************
    $('button[name=EliminarR]').on("click", function () {
        var id = $(this).val();
        var element = $(this).parent().parent();
        var boton = $(this);
        swal({
            title: "Estas seguro?",
            text: "",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Si, Eliminar referencia!",
            closeOnConfirm: false
        }, function () {
            $.post("@Url.Action("Delete", "ReferenciasAso")", { id: id }, function (res) {
                if (res) {

                    element.attr("class", "danger");
                    boton.attr("disabled", true);
                    boton.prev().hide();
                    boton.prev().prev().show()

                    swal("Eliminado", "", "success");
                } else {
                    swal("No se puede eliminar", "La referencia no se puede eliminar", "error");
                }
            })
        });
    })

    //***********************ELIMINAR CODEUDOR****************
    $('button[name=EliminarCODE]').on("click", function () {
        var id = $(this).val();
        var element = $(this).parent().parent();
        var boton = $(this);
        swal({
            title: "Estas seguro?",
            text: "",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Si, Eliminar codeudot!",
            closeOnConfirm: false
        }, function () {
            $.post("@Url.Action("Delete", "CodeudorAso")", { id: id }, function (res) {
                if (res) {

                    element.attr("class", "danger");
                    boton.attr("disabled", true);
                    boton.prev().hide();
                    boton.prev().prev().show()

                    swal("Eliminado", "", "success");
                } else {
                    swal("No se puede eliminar", "El codeudor no se puede eliminar", "error");
                }
            })
        });
    })


    //********************REACTIVAR PERSONA A CARGO**********************
    $('button[name=ReactivarPERSCARGO]').on("click", function () {
        var id = $(this).val();
        var element = $(this).parent().parent();
        var boton = $(this);
        swal({
            title: "Estas seguro?",
            text: "La Persona a Cargo será REACTIVADA!",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Si, Reactivar a la Persona a Cargo!",
            closeOnConfirm: false
        }, function () {
            $.post("@Url.Action("Activar", "PersCargo")", { id: id }, function (res) {
                if (res) {
                    element.attr("class", "");
                    boton.hide();
                    boton.next().show();
                    boton.next().next().attr("disabled", false);
                    swal("Reactivado!", "", "success");
                } else {
                    swal("No se puede Activar", "La Persona a Cargo no pudo ser Activada", "error");
                }
            })
        });
    })

    //********************REACTIVAR BENEFICIARIO**********************
    $('button[name=ReactivarBENEFI]').on("click", function () {
        var id = $(this).val();
        var element = $(this).parent().parent();
        var boton = $(this);
        swal({
            title: "Estas seguro?",
            text: "El Beneficiario será REACTIVADO!",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Si, Reactivar al Beneficiario!",
            closeOnConfirm: false
        }, function () {
            $.post("@Url.Action("Activar", "Beneficiario")", { id: id }, function (res) {
                if (res) {
                    var i = element.data("numero");
                    var por = parseInt($("#p").html()) + parseInt($("#porcentaje-" + i).html());
                    console.log(i);
                    $("#p").html(por);
                    element.attr("class", "");
                    boton.hide();
                    boton.next().show();
                    boton.next().next().attr("disabled", false);
                    swal("Reactivado!", "", "success");
                } else {
                    swal("No se puede Activar", "El Beneficiario no pudo ser Activado", "error");
                }
            })
        });
    })


    //********************REACTIVAR REFERENCIA**********************
    $('button[name=ReactivarREFE]').on("click", function () {
        var id = $(this).val();
        var element = $(this).parent().parent();
        var boton = $(this);
        swal({
            title: "Estas seguro?",
            text: "La referencia será REACTIVADA!",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Si, Reactivar la REFERENCIA!",
            closeOnConfirm: false
        }, function () {
            $.post("@Url.Action("Activar", "ReferenciasAso")", { id: id }, function (res) {
                if (res) {
                    element.attr("class", "");
                    boton.hide();
                    boton.next().show();
                    boton.next().next().attr("disabled", false);
                    swal("Reactivado!", "", "success");
                } else {
                    swal("No se puede Activar", "La referencia no pudo ser Activada", "error");
                }
            })
        });
    })


    //********************REACTIVAR REFERENCIA**********************
    $('button[name=ReactivarCODE]').on("click", function () {
        var id = $(this).val();
        var element = $(this).parent().parent();
        var boton = $(this);
        swal({
            title: "Estas seguro?",
            text: "El codeudor será REACTIVADO!",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Si, Reactivar el CODEUDOR!",
            closeOnConfirm: false
        }, function () {
            $.post("@Url.Action("Activar", "CodeudorAso")", { id: id }, function (res) {
                if (res) {
                    element.attr("class", "");
                    boton.hide();
                    boton.next().show();
                    boton.next().next().attr("disabled", false);
                    swal("Reactivado!", "", "success");
                } else {
                    swal("No se puede Activar", "El codeudor no pudo ser Activad", "error");
                }
            })
        });
    })

</script>
